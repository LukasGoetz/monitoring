{
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": "-- Grafana --",
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "type": "dashboard"
      }
    ]
  },
  "editable": true,
  "gnetId": null,
  "graphTooltip": 0,
  "id": 31,
  "links": [],
  "panels": [
    {
      "datasource": "Prometheus",
      "fieldConfig": {
        "defaults": {
          "custom": {}
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 9,
        "x": 0,
        "y": 0
      },
      "id": 17,
      "options": {
        "content": "<h1><img src=\"https://www.company.org/logo.png\" width =\"100\" height =\"100\" alt=\"logo\"/>My Logo</h1>\n",
        "mode": "html"
      },
      "pluginVersion": "7.1.0",
      "timeFrom": null,
      "timeShift": null,
      "title": "",
      "transparent": true,
      "type": "text"
    },
    {
      "datasource": "Prometheus",
      "fieldConfig": {
        "defaults": {
          "custom": {}
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 7,
        "x": 10,
        "y": 0
      },
      "id": 14,
      "options": {
        "content": "<br>\n<h1 style=\"color:white;\"><strong>Overview Server Health</strong></h1>\n\n\n",
        "mode": "html"
      },
      "pluginVersion": "7.1.0",
      "timeFrom": null,
      "timeShift": null,
      "title": "",
      "transparent": true,
      "type": "text"
    },
    {
      "datasource": "Prometheus",
      "fieldConfig": {
        "defaults": {
          "custom": {}
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 5,
        "x": 19,
        "y": 0
      },
      "id": 10,
      "options": {
        "bgColor": "rgba(13, 13, 13, 0.91)",
        "clockType": "24 hour",
        "countdownSettings": {
          "endCountdownTime": "2020-07-22T15:35:48+02:00",
          "endText": "00:00:00"
        },
        "dateSettings": {
          "dateFormat": "DD-MM-YYYY",
          "fontSize": "20px",
          "fontWeight": "normal",
          "showDate": true
        },
        "mode": "time",
        "timeSettings": {
          "fontSize": "30px",
          "fontWeight": "normal"
        },
        "timezone": "",
        "timezoneSettings": {
          "fontSize": "12px",
          "fontWeight": "normal",
          "showTimezone": false,
          "zoneFormat": "offsetAbbv"
        }
      },
      "pluginVersion": "7.1.0",
      "timeFrom": null,
      "timeShift": null,
      "title": "Time",
      "transparent": true,
      "type": "grafana-clock-panel"
    },
    {
      "datasource": "Prometheus",
      "fieldConfig": {
        "defaults": {
          "custom": {
            "align": null
          },
          "mappings": [
            {
              "from": "",
              "id": 0,
              "text": "Fit as a feedle",
              "to": "",
              "type": 1,
              "value": "0"
            },
            {
              "from": "",
              "id": 1,
              "text": "Unhealthy (1 metric)",
              "to": "",
              "type": 1,
              "value": "1"
            },
            {
              "from": "",
              "id": 2,
              "text": "Unhealthy (2 metrics)",
              "to": "",
              "type": 1,
              "value": "2"
            },
            {
              "from": "",
              "id": 3,
              "text": "Unhealthy (3 metrics)",
              "to": "",
              "type": 1,
              "value": "3"
            },
            {
              "from": "",
              "id": 4,
              "text": "Node down (no metrics)",
              "to": "",
              "type": 1,
              "value": "4"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "yellow",
                "value": 1
              },
              {
                "color": "orange",
                "value": 2
              },
              {
                "color": "red",
                "value": 3
              },
              {
                "color": "rgb(78, 76, 71)",
                "value": 4
              }
            ]
          }
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Health Status"
            },
            "properties": [
              {
                "id": "custom.displayMode",
                "value": "color-background"
              },
              {
                "id": "custom.width",
                "value": 145
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Server"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 176
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Instance"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 133
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Server Name"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 203
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "server_name"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 197
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "instance"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 141
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Uptime [d]"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 152
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "IP Address"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 142
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 12,
        "x": 0,
        "y": 3
      },
      "id": 187,
      "options": {
        "frameIndex": 0,
        "showHeader": true,
        "sortBy": []
      },
      "pluginVersion": "7.1.0",
      "targets": [
        {
          "expr": "(node_time_seconds{group=\"database\"} - node_boot_time_seconds{group=\"database\"}) / (60*60*24)",
          "format": "table",
          "instant": true,
          "interval": "",
          "legendFormat": "",
          "refId": "B"
        },
        {
          "expr": "instance:node_filesystem_avail:threshold{group=\"database\"} + on(instance, server_name) instance:node_memory_avail:threshold{group=\"database\"} + on (instance, server_name) instance:cpu_avg:threshold{group=\"database\"} or on(instance,server_name) (instance:up{group=\"database\"}*4)",
          "format": "table",
          "instant": true,
          "interval": "",
          "legendFormat": "",
          "refId": "A"
        }
      ],
      "timeFrom": null,
      "timeShift": null,
      "title": "Database Server",
      "transformations": [
        {
          "id": "seriesToRows",
          "options": {}
        },
        {
          "id": "merge",
          "options": {}
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {
              "Time": true,
              "group": true,
              "job": true
            },
            "indexByName": {},
            "renameByName": {
              "Value #A": "Health Status",
              "Value #B": "Uptime [d]",
              "instance": "IP Address",
              "server_name": "Server Name"
            }
          }
        }
      ],
      "transparent": true,
      "type": "table"
    },
    {
      "datasource": "Prometheus",
      "fieldConfig": {
        "defaults": {
          "custom": {
            "align": null
          },
          "mappings": [
            {
              "from": "",
              "id": 0,
              "text": "Fit as a feedle",
              "to": "",
              "type": 1,
              "value": "0"
            },
            {
              "from": "",
              "id": 1,
              "text": "Unhealthy (1 metric)",
              "to": "",
              "type": 1,
              "value": "1"
            },
            {
              "from": "",
              "id": 2,
              "text": "Unhealthy (2 metrics)",
              "to": "",
              "type": 1,
              "value": "2"
            },
            {
              "from": "",
              "id": 3,
              "text": "Unhealthy (3 metrics)",
              "to": "",
              "type": 1,
              "value": "3"
            },
            {
              "from": "",
              "id": 4,
              "text": "Node down (no metrics)",
              "to": "",
              "type": 1,
              "value": "4"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "yellow",
                "value": 1
              },
              {
                "color": "orange",
                "value": 2
              },
              {
                "color": "red",
                "value": 3
              }
            ]
          }
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Health Status"
            },
            "properties": [
              {
                "id": "custom.displayMode",
                "value": "color-background"
              },
              {
                "id": "custom.width",
                "value": 152
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Server"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 176
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Server Name"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 202
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Instance"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 152
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "instance"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 143
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "server_name"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 182
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Uptime [d]"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 147
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "IP Address"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 144
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 12,
        "w": 10,
        "x": 13,
        "y": 3
      },
      "id": 188,
      "options": {
        "showHeader": true,
        "sortBy": []
      },
      "pluginVersion": "7.1.0",
      "targets": [
        {
          "expr": "(node_time_seconds{group=\"etl_worker\"} - node_boot_time_seconds{group=\"etl_worker\"}) / (60*60*24)",
          "format": "table",
          "instant": true,
          "interval": "",
          "legendFormat": "",
          "refId": "B"
        },
        {
          "expr": "instance:node_filesystem_avail:threshold{group=\"etl_worker\"} + on(instance, server_name) instance:node_memory_avail:threshold{group=\"etl_worker\"} + on (instance, server_name) instance:cpu_avg:threshold{group=\"etl_worker\"} or on(instance,server_name) (instance:up{group=\"etl_worker\"}*4)",
          "format": "table",
          "instant": true,
          "interval": "",
          "legendFormat": "",
          "refId": "A"
        }
      ],
      "timeFrom": null,
      "timeShift": null,
      "title": "ETL Worker/ Scheduler",
      "transformations": [
        {
          "id": "seriesToRows",
          "options": {}
        },
        {
          "id": "merge",
          "options": {}
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {
              "Time": true,
              "group": true,
              "job": true
            },
            "indexByName": {},
            "renameByName": {
              "Value #A": "Health Status",
              "Value #B": "Uptime [d]",
              "instance": "IP Address",
              "server_name": "Server Name"
            }
          }
        }
      ],
      "transparent": true,
      "type": "table"
    },
    {
      "datasource": "Prometheus",
      "fieldConfig": {
        "defaults": {
          "custom": {
            "align": null
          },
          "mappings": [
            {
              "from": "",
              "id": 0,
              "text": "Fit as a feedle",
              "to": "",
              "type": 1,
              "value": "0"
            },
            {
              "from": "",
              "id": 1,
              "text": "Unhealthy (1 metric)",
              "to": "",
              "type": 1,
              "value": "1"
            },
            {
              "from": "",
              "id": 2,
              "text": "Unhealthy (2 metrics)",
              "to": "",
              "type": 1,
              "value": "2"
            },
            {
              "from": "",
              "id": 3,
              "text": "Unhealthy (3 metrics)",
              "to": "",
              "type": 1,
              "value": "3"
            },
            {
              "from": "",
              "id": 4,
              "text": "Node down (no metrics)",
              "to": "",
              "type": 1,
              "value": "4"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "yellow",
                "value": 1
              },
              {
                "color": "orange",
                "value": 2
              },
              {
                "color": "red",
                "value": 3
              },
              {
                "color": "rgba(235, 225, 225, 0.11)",
                "value": 4
              }
            ]
          }
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Health Status"
            },
            "properties": [
              {
                "id": "custom.displayMode",
                "value": "color-background"
              },
              {
                "id": "custom.width",
                "value": 141
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Server"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 176
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Instance"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 136
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Server Name"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 202
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "server_name"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 196
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "instance"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 146
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Uptime [d]"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 152
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "IP Address"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 145
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 7,
        "w": 12,
        "x": 0,
        "y": 8
      },
      "id": 191,
      "options": {
        "showHeader": true,
        "sortBy": []
      },
      "pluginVersion": "7.1.0",
      "targets": [
        {
          "expr": "(node_time_seconds{group=\"research_repo\"} - node_boot_time_seconds{group=\"research_repo\"}) / (60*60*24)",
          "format": "table",
          "instant": true,
          "interval": "",
          "legendFormat": "",
          "refId": "B"
        },
        {
          "expr": "instance:node_filesystem_avail:threshold{group=\"research_repo\"} + on(instance, server_name) instance:node_memory_avail:threshold{group=\"research_repo\"} + on (instance, server_name) instance:cpu_avg:threshold{group=\"research_repo\"} or on(instance,server_name) (instance:up{group=\"research_repo\"}*4)",
          "format": "table",
          "instant": true,
          "interval": "1",
          "legendFormat": "",
          "refId": "A"
        }
      ],
      "timeFrom": null,
      "timeShift": null,
      "title": "Research Repository",
      "transformations": [
        {
          "id": "seriesToRows",
          "options": {}
        },
        {
          "id": "merge",
          "options": {}
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {
              "Time": true,
              "group": true,
              "job": true
            },
            "indexByName": {},
            "renameByName": {
              "Value #A": "Health Status",
              "Value #B": "Uptime [d]",
              "instance": "IP Address",
              "server_name": "Server Name"
            }
          }
        }
      ],
      "transparent": true,
      "type": "table"
    },
    {
      "datasource": "Prometheus",
      "fieldConfig": {
        "defaults": {
          "custom": {
            "align": null
          },
          "mappings": [
            {
              "from": "",
              "id": 0,
              "text": "Fit as a feedle",
              "to": "",
              "type": 1,
              "value": "0"
            },
            {
              "from": "",
              "id": 1,
              "text": "Unhealthy (1 metric)",
              "to": "",
              "type": 1,
              "value": "1"
            },
            {
              "from": "",
              "id": 2,
              "text": "Unhealthy (2 metrics)",
              "to": "",
              "type": 1,
              "value": "2"
            },
            {
              "from": "",
              "id": 3,
              "text": "Unhealthy (3 metrics)",
              "to": "",
              "type": 1,
              "value": "3"
            },
            {
              "from": "",
              "id": 4,
              "text": "Node down (no metrics)",
              "to": "",
              "type": 1,
              "value": "4"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "yellow",
                "value": 1
              },
              {
                "color": "orange",
                "value": 2
              },
              {
                "color": "red",
                "value": 3
              }
            ]
          }
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Health Status"
            },
            "properties": [
              {
                "id": "custom.displayMode",
                "value": "color-background"
              },
              {
                "id": "custom.width",
                "value": 146
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Server"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 209
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Instance"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 134
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "instance"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 151
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "server_name"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 191
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Uptime [d]"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 151
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "IP Address"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 147
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Server Name"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 203
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 12,
        "x": 0,
        "y": 15
      },
      "id": 190,
      "options": {
        "showHeader": true,
        "sortBy": []
      },
      "pluginVersion": "7.1.0",
      "targets": [
        {
          "expr": "(node_time_seconds{group=\"repo\"} - node_boot_time_seconds{group=\"repo\"}) / (60*60*24)",
          "format": "table",
          "instant": true,
          "interval": "",
          "legendFormat": "",
          "refId": "B"
        },
        {
          "expr": "instance:node_filesystem_avail:threshold{group=\"repo\"} + on(instance, server_name) instance:node_memory_avail:threshold{group=\"repo\"} + on (instance, server_name) instance:cpu_avg:threshold{group=\"repo\"} or on(instance,server_name) (instance:up{group=\"repo\"}*4)",
          "format": "table",
          "instant": true,
          "interval": "1",
          "legendFormat": "",
          "refId": "A"
        }
      ],
      "timeFrom": null,
      "timeShift": null,
      "title": "ETL Repository",
      "transformations": [
        {
          "id": "seriesToRows",
          "options": {}
        },
        {
          "id": "merge",
          "options": {}
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {
              "Time": true,
              "group": true,
              "job": true
            },
            "indexByName": {},
            "renameByName": {
              "Value #A": "Health Status",
              "Value #B": "Uptime [d]",
              "instance": "IP Address",
              "server_name": "Server Name"
            }
          }
        }
      ],
      "transparent": true,
      "type": "table"
    }
  ],
  "refresh": "10s",
  "schemaVersion": 26,
  "style": "dark",
  "tags": [],
  "templating": {
    "list": []
  },
  "time": {
    "from": "now-6h",
    "to": "now"
  },
  "timepicker": {
    "refresh_intervals": [
      "10s",
      "30s",
      "1m",
      "5m",
      "15m",
      "30m",
      "1h",
      "2h",
      "1d"
    ]
  },
  "timezone": "",
  "title": "General_Overview_Dashboard",
  "uid": "02xZ-N4Mz",
  "version": 50
}